<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>考试后台管理系统</title>
    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <script src="../vendors/nprogress/nprogress.js"></script>
    
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <script src="../vendors/iCheck/icheck.min.js"></script>
    
    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">
    <link href="../vendors/select2/dist/css/select2.min.css" rel="stylesheet">
    
    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>
    <script src="../vendors/select2/dist/js/select2.full.min.js"></script>
    <script src="../exam/js/config.js"></script>
    <!--<script src="../exam/js/AuthorityManagement.js"></script><			<!--权限控制session-->

    <!-- FastClick -->
    <script src="../vendors/fastclick/lib/fastclick.js"></script>
    
    <!--Datatables--> 
	<link rel="stylesheet" type="text/css" href="../exam/css/jquery.dataTables.css">
	<script type="text/javascript" charset="utf8" src="../exam/js/jquery.dataTables.js"></script>
	<script src="../exam/js/handlebars-v3.0.1.js"></script>
	<script type="text/javascript" charset="utf8" src="../exam/js/dataTables.bootstrap.js"></script>
	<script type="text/javascript" charset="utf8" src="../exam/js/jquery.dataTables.js"></script>
	
    <!--DatatablesButtons--> 
    <script type="text/javascript" charset="utf8" src="../exam/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" charset="utf8" src="../exam/js/buttons.html5.min.js"></script>
	<script type="text/javascript" charset="utf8" src="../exam/js/buttons.print.min.js"></script>
	<link rel="stylesheet" href="../exam/css/buttons.dataTables.min.css">

    
    
    <style>
    table {
        *border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
        border: 1px solid #ccc;
        text-decoration: none;
        table-layout: fixed;
    }

    .zebra td,
    .zebra th {
        padding: 10px;
        /*border-bottom: 1px solid #f2f2f2;*/
        border-left: 1px solid #ccc;
        border-top: 1px solid #ccc;
        text-align: center;
    }

    .zebra .alternate,
    .zebra tbody tr:nth-child(even) {
        background: #f5f5f5;
        box-shadow: 0 1px 0 rgba(255, 255, 255, .8) inset;
    }

    .zebra th {
        text-align: center;
        text-shadow: 0 1px 0 rgba(255, 255, 255, .5);
        border-bottom: 1px solid #ccc;
        background-color: #eee;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#f5f5f5), to(#eee));
        background-image: -webkit-linear-gradient(top, #f5f5f5, #eee);
        background-image: -moz-linear-gradient(top, #f5f5f5, #eee);
        background-image: -ms-linear-gradient(top, #f5f5f5, #eee);
        background-image: linear-gradient(top, #f5f5f5, #eee);
        filter: progid: DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#f5f5f5, endColorstr=#eee);
        -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#f5f5f5,endColorstr=#eee)";
    }
    /*.zebra th:first-child {
        border-radius: 6px 0 0 0;
        width: 50px;
    }*/

    .zebra th:last-child {
        border-radius: 0 6px 0 0;
        width: 120px;
    }

    .zebra tr:last-child td:first-child {
        border-radius: 0 0 0 6px;
    }

    .zebra td:last-child {
        border-radius: 0 0 6px 0;
    }

    .pageNumber {
        margin-top: 20px; 
        padding: 10px;
        border-radius: 5px;
        background: #dddddd;
        height: 40px;
        width: auto;
    }

    td {
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        text-align: center;
    }

    .td0 {
        width: 50%;
        text-align: left;
    }

    .td1 {
        width: 14%;
    }

    a {
        cursor: pointer;
    }
    </style>
    <style>
    ul.pagination {
        display: inline-block;
        padding: 0;
        margin: 0;
        float: right;
    }

    ul.pagination li {
        display: inline;
    }

    ul.pagination li a {
        color: black;
        float: right;
        padding: 8px 16px;
        text-decoration: none;
        transition: background-color .3s;
        border: 1px solid #ddd;
    }

    ul.pagination li a.active {
        background-color: #4CAF50;
        color: white;
        border: 1px solid #4CAF50;
    }

    ul.pagination li a:hover:not(.active) {
        background-color: #ddd;
    }
    </style>
    <script>
    </script>
</head>

<body class="nav-md" style="background-image: url(../vendors/tushuguan.jpg);background-repeat: no-repeat;background-size: cover;">
    <div class="container body">
        <div class="main_container" >
            <div id="menu">
             <!--加载侧边栏-->
            </div>
            <!-- page content -->
            <div class="right_col" role="main">
                <div>
                    <div class="page-title">
                        <div class="title_left">
                            <h3>题库管理 </h3>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>添加题库</h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <form>
                                        <div class="form-group col-md-6 col-sm-7">
                                            <input type="text" id="tikuming" class="form-control col-md-6 col-sm-7" placeholder="请输入要创建的题库名">                                           
                                        	<br /><br/>

                                        	<select style="width: 20%;" class="form-control tixin" id="qb_lang">                                        		
                                                <option value="0">C语言</option>
                                                <option value="1">Python2</option>
                                                <option value="2">Python3</option>
                                                <option value="3">Java</option>
                                                <option value="4">c#</option>
                                                <option value="5">go语言</option>
                                           </select>
                                           <br />
                                        <button id="creattiku" type="button" class="btn btn-default">创建</button>
                                        </div> 	
                                        
                                    </form>
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>题库列表</h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <div class="demo">
                                        <table class="zebra bulk_action" id="questionbank_table" class=diaplay>
                                            <!--<tr>
                                                <th style="width: 70%;">题库名称</th>
                                                <th style="width: 30%;">操作</th>
                                            </tr>-->
                                            <thead>
                                            	<tr>
                                            		<th style="width: 70%;">题库名称</th>
                                            		<th style="width: 30%;">题库名称</th>
                                                	<th style="width: 30%;">操作</th>
                                            	</tr>
                                            </thead>
                                            <tbody id="tablebody">
                                            </tbody>
                                        </table>
                                    </div>
                                    <div>
                                        <ul class="pagination" id="page-list">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 目标题库题目 -->
                <div id="timu" hidden>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>查找题目</h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li>
                                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <form class="form-horizontal form-label-left col-md-5">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">当前题库:</label>
                                        <label class="control-label col-md-5 col-xs-12" id="target_qb" value=""></label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">题型选择</label>
                                        <div class="col-md-9 col-sm-9 col-xs-12">
                                            <select class="form-control tixin" id="target_qt_type">
                                                <option value="all">所有题型</option>
                                                <option value="'choice'">选择题</option>
                                                <option value="'judge'">判断题</option>
                                                <option value="'fillb'">程序填空题</option>
                                                <option value="'filla'">读程序写结果</option>
                                                <option value="'coding'">编程题</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">难度上限</label>
                                        <div class="col-md-9">
                                            <select class="form-control" id="target_qt_diffculty_up">
                                                <option value="100">100</option>
                                                <option value="90">90</option>
                                                <option value="80">80</option>
                                                <option value="70">70</option>
                                                <option value="60">60</option>
                                                <option value="50">50</option>
                                                <option value="40">40</option>
                                                <option value="30">30</option>
                                                <option value="20">20</option>
                                                <option value="10">10</option>
                                                <option value="0">0</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-10 col-sm-5 col-xs-12">难度上下限取上不取下，如-10< x <=100</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">难度下限</label>
                                        <div class="col-md-9">
                                            <select class="form-control" id="target_qt_diffculty_down">
                                                <option value="-10">-10</option>
                                                <option value="0">0</option>
                                                <option value="10">10</option>
                                                <option value="20">20</option>
                                                <option value="30">30</option>
                                                <option value="40">40</option>
                                                <option value="50">50</option>
                                                <option value="60">60</option>
                                                <option value="70">70</option>
                                                <option value="80">80</option>
                                                <option value="90">90</option>
                                                <option value="100">100</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12" style="float: left;">知识点</label>
                                        <div class="col-md-9">
                                            <select class="form-control" id="target_knowledge">
                                                <option value="all">所有知识点</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-9 col-xs-12 col-md-offset-3">
                                            <button id="target_SelectQuestion" type="button" class="btn btn-success">查询
                                            </button>
                                            <button id="print" type="button" class="btn btn-success">导出
                                            </button>
                                            <a href="" download="" id="downPdf"></a>
                                        </div>
                                    </div>
                                </form>
                                <div class="demo col-md-7" >
                                    <br/>
                                    <div class="form-group col-md-12">
                                    	<div class="form-group">
                                        <label class="control-label col-md-2 ">&nbsp;&nbsp;&nbsp;语言:</label>
                                        <label class="control-label col-md-2 " id="lang_qb" value=""></label>
                                    <!--</div>
                                        <label class="control-label col-md-2">语言：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="lang_qb"></label>
                                        </div>
                                    </div>-->
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-2">总数量：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="total_num"></label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-2">选择题：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="choice_num"></label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-2">判断题：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="judge_num"></label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-2">编程题：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="coding_num"></label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-3">程序填空题：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="fillb_num"></label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label col-md-3">读程序写结果题：</label>
                                        <div class="col-md-3">
                                            <label class="control-label col-md-2" id="filla_num"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>题目列表</h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li>
                                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div> 
                            <div class="x_content">
                                <div class="demo">
                                    <table class="zebra bulk_action" id="question_table" class=display>
                                        <!--<tr>
                                            <th class="td0">题干</th>
                                            <th>题型</th>
                                            <th>难度系数</th>
                                            <th>考察知识点</th>
                                            <th>正确率</th>
                                            <th class="td1">操作</th>
                                        </tr>-->
                                        <thead>
                                        	<tr>
                                        		<th class="td0">题干</th>
	                                            <th>题型</th>
	                                            <th>难度系数</th>
	                                            <th>考察知识点</th>
	                                            <th>正确率</th>
	                                            <th class="td1">操作</th>
                                        	</tr>
                                        </thead>
                                        <tbody id="target_tablebody">
                                        </tbody>
                                    </table>
                                </div>
                                <div>
                                    <ul class="pagination" id="target_page-list">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12" id="question" hidden>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>题目详情</h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <form class="form-horizontal form-label-left">
                                        <div id="choice_question" hidden>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">题干</label>
                                                <div class="col-md-8">
                                                    <textarea rows="10" class="form-control" id="choice_stem" placeholder="题干"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">选项A</label>
                                                <div class="col-md-3">
                                                    <textarea rows="2" class="form-control" id="choice_a" placeholder="A选项"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">选项B</label>
                                                <div class="col-md-3">
                                                    <textarea rows="2" class="form-control" id="choice_b" placeholder="B选项"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">选项C</label>
                                                <div class="col-md-3">
                                                    <textarea rows="2" class="form-control" id="choice_c" placeholder="C选项"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">选项D</label>
                                                <div class="col-md-3">
                                                    <textarea rows="2" class="form-control" id="choice_d" placeholder="D选项"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">答案</label>
                                                <div class="col-md-3">
                                                    <textarea rows="2" class="form-control" id="choice_answer" placeholder="答案"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">试题难度</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="choice_diffculty">
                                                        <option>0</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>50</option>
                                                        <option>60</option>
                                                        <option>70</option>
                                                        <option>80</option>
                                                        <option>90</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">知识点</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="choice_knowledge">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ln_solid"></div>
                                            <div class="form-group">
                                                <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                                                    <button type="button" class="btn btn-primary" onclick="reset_save()">取消</button>
                                                    <button type="button" class="btn btn-success" id="save_choice">保存修改</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="filla_question" hidden>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">题干</label>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <textarea rows="10" class="form-control" id="filla_stem" placeholder="题干"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">答案</label>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <textarea rows="2" class="form-control" id="filla_answer" placeholder="答案"></textarea>
                                                </div>
                                            </div>
                                            <!-- <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12"></label>
                                                <div class="col-md-9">
                                                    <button type="button" class="btn btn-primary" id="add-tiankong-answer">添加</button>
                                                </div>
                                            </div> -->
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">试题难度</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="filla_diffculty">
                                                        <option>0</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>50</option>
                                                        <option>60</option>
                                                        <option>70</option>
                                                        <option>80</option>
                                                        <option>90</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">考察知识点</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="filla_knowledge">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ln_solid"></div>
                                            <div class="form-group">
                                                <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                                                    <button type="button" class="btn btn-primary" onclick="reset_save()">取消</button>
                                                    <button type="button" class="btn btn-success" id="save_filla">保存修改</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="judge_question" hidden>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">题干</label>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <textarea rows="6" class="form-control" id="judge_stem" placeholder="题干"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">正确答案</label>
                                                <div class="radio col-md-1">
                                                    <label>
                                                        <input type="radio" checked="checked" value="option1" name="optionsRadios" id="judge_a"> 正确
                                                    </label>
                                                </div>
                                                <div class="radio col-md-1">
                                                    <label>
                                                        <input type="radio" value="option2" name="optionsRadios" id="judge_b"> 错误
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">试题难度</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="judge_diffculty">
                                                        <option>0</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>50</option>
                                                        <option>60</option>
                                                        <option>70</option>
                                                        <option>80</option>
                                                        <option>90</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">考察知识点</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="judge_knowledge">
                                                        <!-- <option>数组</option>
                                                        <option>链表</option>
                                                        <option>指针</option>
                                                        <option>文件</option>
                                                        <option>循环</option> -->
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ln_solid"></div>
                                            <div class="form-group">
                                                <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                                                    <button type="button" class="btn btn-primary" onclick="reset_save()">取消</button>
                                                    <button type="button" class="btn btn-success" id="save_judge">保存修改</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="fillb_question" hidden>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">题干</label>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <textarea rows="10" class="form-control" placeholder="题干" id="fillb_stem"></textarea>
                                                </div>
                                            </div>
                                            <!-- <div id="duchengxu-answer">
                                                <div class="form-group">
                                                    <label class="control-label col-md-1 col-sm-3 col-xs-12">预留代码</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea rows="15" class="form-control" placeholder="预留代码" id="fb_pre_coding"></textarea>
                                                    </div>
                                                </div>
                                            </div> -->
                                            <div id="fillb-answer">
                                                <div class="form-group">
                                                    <label class="control-label col-md-1 col-sm-3 col-xs-12">测试代码</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea rows="10" class="form-control" placeholder="完整代码，填空处用&&&隔离" id="fb_pre_coding"></textarea>
                                                    </div>
                                                </div>
                                                <!-- <div class="form-group">
                                                        <label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label>
                                                        <div class="col-md-9 col-sm-9 col-xs-12">
                                                            <textarea rows="2" class="form-control" placeholder="测试输入" id="fb_test_answer_in0"></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label>
                                                        <div class="col-md-9 col-sm-9 col-xs-12">
                                                            <textarea rows="2" class="form-control" placeholder="测试输出" id="fb_test_answer_out0"></textarea>
                                                        </div>
                                                    </div> -->
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12"></label>
                                                <div class="col-md-9">
                                                    <button type="button" class="btn btn-primary" id="add-fillb-answer">添加</button>
                                                    <button type="button" class="btn btn-primary" id="delete-fillb-answer">删除</button>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">试题难度</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="fillb_diffculty">
                                                        <option>0</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>50</option>
                                                        <option>60</option>
                                                        <option>70</option>
                                                        <option>80</option>
                                                        <option>90</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">考察知识点</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="fillb_knowledge">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ln_solid"></div>
                                            <div class="form-group">
                                                <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                                                    <button type="button" class="btn btn-primary" onclick="reset_save()">取消</button>
                                                    <button type="button" class="btn btn-success" id="save_fillb">保存修改</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="coding_question" hidden>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">题干</label>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <textarea rows="10" class="form-control" placeholder="题干" id="coding_stem"></textarea>
                                                </div>
                                            </div>
                                            <div id="duchengxu-answer">
                                                <div class="form-group">
                                                    <label class="control-label col-md-1 col-sm-3 col-xs-12">预留代码</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea rows="15" class="form-control" placeholder="预留代码" id="co_pre_coding"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="coding-answer">
                                                <!-- <div class="form-group">
                                                    <label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea rows="2" class="form-control" placeholder="测试输入" id="co_test_answer_in0"></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea rows="2" class="form-control" placeholder="测试输出" id="co_test_answer_out0"></textarea>
                                                    </div>
                                                </div> -->
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12"></label>
                                                <div class="col-md-9">
                                                    <button type="button" class="btn btn-primary" id="add-coding-answer">添加</button>
                                                    <button type="button" class="btn btn-primary" id="delete-coding-answer">删除</button>
                                                </div>
                                            </div>
                                            <!-- <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12"></label>
                                                <div class="col-md-9">
                                                    
                                                </div>
                                            </div> -->
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">试题难度</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="coding_diffculty">
                                                        <option>0</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>50</option>
                                                        <option>60</option>
                                                        <option>70</option>
                                                        <option>80</option>
                                                        <option>90</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-1 col-sm-3 col-xs-12">知识点</label>
                                                <div class="col-md-3">
                                                    <select class="form-control" id="coding_knowledge">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ln_solid"></div>
                                            <div class="form-group">
                                                <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                                                    <button type="button" class="btn btn-primary" onclick="reset_save()">取消</button>
                                                    <button type="button" class="btn btn-success" id="save_coding">保存修改</button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
		
		<!--定义操作列按钮模板-->
		<script id="tpl" type="text/x-handlebars-template">
		    {{#each func}}
		    <button type="button" class="btn btn-{{this.type}} btn-sm" onclick="{{this.fn}}">{{this.name}}</button>
		    {{/each}}
		</script>
		<script id="tp2" type="text/x-handlebars-template">
		    {{#each func}}
		    <button type="button" class="btn btn-{{this.type}} btn-sm" onclick="{{this.fn}}">{{this.name}}</button>
		    {{/each}}
		</script>
		<script id="tp3" type="text/x-handlebars-template">
		    {{#each func}}
		    <button type="button" class="btn btn-{{this.type}} btn-sm" onclick="{{this.fn}}">{{this.name}}</button>
		    {{/each}}
		</script>
		<script id="tp4" type="text/x-handlebars-template">
		    {{#each func}}
		    <button type="button" class="btn btn-{{this.type}} btn-sm" onclick="{{this.fn}}">{{this.name}}</button>
		    {{/each}}
		</script>
		<script id="tp5" type="text/x-handlebars-template">
		    {{#each func}}
		    <button type="button" class="btn btn-{{this.type}} btn-sm" onclick="{{this.fn}}">{{this.name}}</button>
		    {{/each}}
		</script>
		
		<!--加载侧边栏-->
		<script type="text/javascript">
        	$(function () 
			 {
	    		$.ajax
				({
		      	    url: "" + ServerIp + "/StudentManage/Menu", //加上这句话
		            type: 'POST',				//请求的类型
		            async: false,
		            dataType: "text",			//数据类型		          
		            data: {					         		            
		            },					            
		            success:function(data) 	 //操作后台的返回值
		            {
		            	//alert(data);
		            	data = JSON.parse(data);		           
		            	$("#menu").append(data);		            	
					},
		            error: function(e)
		            {
		            	alert("error");
		            }
			    });
			})
        </script>

		
        <script>
        var currentPage = 1;
        var target_currentPage = 1;
        var target_qb_id = 1;
        var update_qt_id;
        var totalPage = 0;
        var target_totalPage = 0;

		function DestroyTable1()//清除题库列表datatable表格内容以供刷新
        {
        	var datatable = $("#questionbank_table").dataTable();
        	if (datatable) 
        	{
	         	datatable.fnClearTable();    //清空数据
	         	datatable.fnDestroy();         //销毁datatable
       	 	} 

        }
        function DestroyTable2()//清除题目列表datatable表格内容以供刷新
        {
        	var datatable = $("#question_table").dataTable();
        	if (datatable) 
        	{
	         	datatable.fnClearTable();    //清空数据
	         	datatable.fnDestroy();         //销毁datatable
       	 	} 

        }

        function reset_save(){
        $("#question").hide();
        }
        function changeTitle(qb_id) {
            var name = prompt('要将题库名变更为什么？', '');
            if (name == '' || typeof(name) == 'undefined' || name == null) {
                alert('您输入的数据不合法');
            } else {
                $.post("" + ServerIp + "/QuestionBackManage/UpdateQuestionBack/", {
                    "qb_id": qb_id,
                    "qb_name": name
                }, function(data) {
                    // alert(data);
                    var data = JSON.parse(data);
                    if (data.status == 1)
                        alert('修改成功');
                    else
                        alert('修改失败');
                    // document.getElementById("tablebody").innerHTML ='';
                    DestroyTable1();
                    myFunction();
                });
            }
        }

        function deleteTiku(qb_id) {
            var password = prompt('请输入管理员密码', '');
            if (password == '' || typeof(password) == 'undefined' || password == null) {
                alert('您输入的管理员密码有误');
            } else {
                $.post("" + ServerIp + "/QuestionBackManage/ConfirmDeleteQuestionBack/", {
                    "qb_id": qb_id,
                    "deletepassword": password
                }, function(data) {
                    var data = JSON.parse(data);
                    if (data.status == 1)
                        alert('删除成功');
                    else
                        alert(data.message);
                    // document.getElementById("tablebody").innerHTML ='';
                    DestroyTable1();
                    myFunction();
                });
            }
        }

        $('#creattiku').click(function() {
            var title = $('#tikuming').val();
            var qb_lang = $('#qb_lang').val();
            alert(title + qb_lang);
            
            $.post("" + ServerIp + "/QuestionBackManage/AddQuestionBack/", {
                    "qb_name": title,
                    "qb_lang": qb_lang
                },
                function(data, status) {

                    var data = JSON.parse(data);
                    if (data.status == 1 && status == 'success') {
                        alert("创建题库成功！");
                        title[0].value = '';
                    } else {
                        alert('添加失败,题库已存在或连接不正常');
                    }
                    // document.getElementById("tablebody").innerHTML ='';
                    DestroyTable1();
                    myFunction();
                })
        });
		//题库列表table
		function myFunction()
		{
			var tpl = $("#tpl").html();
		    var tp2 = $("#tp2").html();
		    var tp3 = $("#tp3").html();		    
			//预编译模板
	        var template = Handlebars.compile(tpl);
	        var template = Handlebars.compile(tp2);
	        var template = Handlebars.compile(tp3);
			$.ajax({
				url: "" + ServerIp + "/QuestionBackManage/ManageQuestionBack/",
				type: 'POST', //请求的类型
				async: false,
				dataType: "text", //数据类型
				data: {"currentPage": currentPage
				},
				success: function(data) //操作后台的返回值
				{	
					data = JSON.parse(data);
					data = data.body;
					//alert(data.data);
		            var pageSize = 0;
		            var firstPage = 0;
		            var lastPage = 0;
		            // var currentPage = 0;
		            var pageList = $('#page-list');
		            var tablebody = $('#tablebody');
		            document.getElementById("tablebody").innerHTML = '';
		            var tablebody = $('#tablebody');
	                document.getElementById("tablebody").innerHTML = '';
	                totalPage = data.totalPage;
	                pageSize = data.pageSize;
	                firstPage = data.firstPage;
	                lastPage = data.lastPage;
	                currentPage = data.currentPage;
	                document.getElementById("page-list").innerHTML = '';
	                if (lastPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">下页</a></li>')
	                } else {
	                    pageList.append('<li id = "nextpage"><a href="#">下页</a></li>');
	                }
	                pageList.append('<li><a id = questionback' + totalPage + ' onclick="trailerPage(' + totalPage + ')" href="#"style="background: wight;" >  ' + totalPage + '</a></li>');
	                if (totalPage > 1) {
	                    if (totalPage - currentPage >= 2) {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    if (currentPage > 1 && currentPage != totalPage) {
	                        pageList.append('<li ><a id = "questionback' + currentPage + '" chref="#"style="background: wight;" >  ' + currentPage + '</a></li>');
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    } else {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    pageList.append('<li ><a id = "questionback' + 1 + '" chref="#"style="background: wight;" >  ' + 1 + '</a></li>');
	                }
	                document.getElementById("questionback" + currentPage + "").style.background = "#426384";
	                // document.getElementById("tablebody").onfocus();
	                if (firstPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">上页</a></li>')
	                } else {
	                    pageList.append('<li id = "lastpage"><a chref="#">上页</a></li>');
	                }
	                pageList.append('<input style="width:50px;height:30px;margin-top:5px;margin-right:20px;" id="page_num"></input>');
	                pageList.append('<li onclick = "turing_page()"><a href="#">翻页</a></li>');
					table = $('#questionbank_table').DataTable({
						dom: 'Bfrtip',
						data: data.data,
						"paging": false, //禁止分页
						retrieve: true, //实例化检索
						"columns": [
							{
								data: 'qb_name'
						   },
						   {
								data: null
						   },
							{
								data: null//占位空列
							} 

						],
						"columnDefs": [{
								"searchable": false,
								"orderable": false,
								"targets": [0. - 1]					// 表格填充的范围,[0,-1]为所有
							},
							{
								"targets": -1,
								"render": function(a, b, c, d) {
										 var context1 =
				                        {
				                            func: [
				                                {"name": "查看", "fn": "chakantiku(\'" + c.qb_id + "\',\'" + c.qb_name + "\',\'" + c.qb_lang + "\')", "type": "success"},
				                                
				                            ]
				                        };
				                        var html1 = template(context1);
				                        
				                        var context2 =
				                        {
				                            func: [
				                                {"name": "修改", "fn": "changeTitle(\'" + c.qb_id + "\')", "type": "primary"},		//添加按键     name为按键属性
				                                
				                            ]
				                        };				                        
				                        var html2 = template(context2);
				                        var context3 =
				                        {
				                            func: [
				                                {"name": "删除", "fn": "deleteTiku(\'" + c.qb_id + "\')", "type": "danger"},
				                                
				                            ]
				                        };
				                        var html3 = template(context3);
				                        return html1+html2+html3;
								}
							},
							{
								"targets": -2,
								"render": function(a, b, c, d){ 
				                    var lang_qb = c.qb_lang
				                    switch(lang_qb){
				                    	case '0': lang_qb = "<b>C语言</b>"; break;
				                    	case '1': lang_qb = "<b>Python2</b>"; break;
				                    	case '2': lang_qb = "<b>Python3</b>"; break;
				                    	case '3': lang_qb = "<b>Java</b>"; break;
				                    	case '4': lang_qb = "<b>C#</b>"; break;
				                    	case '5': lang_qb = "<b>go语言</b>"; break;
				                    };
				                    return lang_qb;
				                }
					        },
						]
					});
					
				}
			});
		}

        $('#page-list').on("click", "#nextpage", function() {
            currentPage += 1;
            DestroyTable1();
            myFunction();
        });
        $('#page-list').on("click", "#lastpage", function() {
            currentPage -= 1;
            DestroyTable1();
            myFunction();
        });
        $('#page-list').on("click", "#questionback1", function() {
            currentPage = 1;
            DestroyTable1();
            myFunction();
        });

        function turing_page() {
            if ($("#page_num").val() > totalPage || $("#page_num").val() == '' || !Number.isInteger(Number($("#page_num").val()))) {
                alert("页码有误");
                return;
            }
            currentPage = $("#page_num").val();
            DestroyTable1();
            myFunction();

        }


        function trailerPage(totalPage) {
            currentPage = totalPage;
            DestroyTable1();
            myFunction();
        }

        function chakantiku(qb_id,qb_name,qb_lang) {
//          document.getElementById("qb").innerHTML = "" + data.className + "";
//          document.getElementById("target_qb").innerHTML = "" + $(data).attr("value") + "";
			document.getElementById("target_qb").innerHTML =qb_name;
            document.getElementById("target_qt_diffculty_down").value = -10;
            document.getElementById("target_qt_diffculty_up").value = 100;
            document.getElementById("target_qt_type").value = "all";
            document.getElementById("target_knowledge").value = "all";
            switch(qb_lang){
            	case '0': document.getElementById("lang_qb").innerHTML = "C语言";   document.getElementById("lang_qb").value = "0"; break;
            	case '1': document.getElementById("lang_qb").innerHTML = "Python2";document.getElementById("lang_qb").value = "1"; break;
            	case '2': document.getElementById("lang_qb").innerHTML = "Python3";document.getElementById("lang_qb").value = "2";break;
            	case '3': document.getElementById("lang_qb").innerHTML = "Java";   document.getElementById("lang_qb").value = "3"; break;
            	case '4': document.getElementById("lang_qb").innerHTML = "C#";     document.getElementById("lang_qb").value = "4";break;
            	case '5': document.getElementById("lang_qb").innerHTML = "go语言";  document.getElementById("lang_qb").value = "5";break;
            };

            $('#timu').show();
            $('#question').hide();
//          document.getElementById("target_SelectQuestion").focus();
            target_currentPage = 1;
            target_qb_id = qb_id;

            // document.getElementById("target_tablebody").focus();
            var qb_id = qb_id;
            var pageList = $('#target_page-list');
            $.post("" + ServerIp + "/QuestionBackManage/OpenQuestionBack/", {
                "questions_bank_qb_id": qb_id,
                "currentPage": target_currentPage
            }, function(data) {
            	//alert(data);
                var data = JSON.parse(data);
                document.getElementById("total_num").innerHTML = data.body.message.total_num;
                document.getElementById("choice_num").innerHTML = data.body.message.choice_num;
                document.getElementById("judge_num").innerHTML = data.body.message.judge_num;
                document.getElementById("coding_num").innerHTML = data.body.message.coding_num;
                document.getElementById("filla_num").innerHTML = data.body.message.filla_num;
                document.getElementById("fillb_num").innerHTML = data.body.message.fillb_num;
				//alert(data.body.message.coding_num);
                var tablebody = $('#target_tablebody');
                document.getElementById("target_tablebody").innerHTML = '';
                target_totalPage = data.body.totalPage;
                pageSize = data.body.pageSize;
                var firstPage = data.body.firstPage;
                var lastPage = data.body.lastPage;
                var currentPage = data.body.currentPage;
                /*var i = 0;
                var str = '';
                try {
                    while (data.body.data[i].qt_id) {
                        str = `<tr>
                                        <td>` + data.body.data[i].qt_stem + `</td>
                                        <td>` + data.body.data[i].qt_type + `</td>
                                        <td>` + data.body.data[i].qt_diffculty + `</td>
                                        <td>` + data.body.data[i].kl_name + `</td>
                                        <td>` + data.body.data[i].qt_pre_rate + `</td>
                                        <td><a style="margin-right: 10px;" class=` + data.body.data[i].qt_id + `  value= ` + data.body.data[i].qt_type + ` onclick="showTimuxiangqing(this)">查看<a   class=` + data.body.data[i].qt_id + ` onclick="delete_question(this)">删除</a></td>
                                    </tr>`
                        tablebody.append(str);
                        i += 1;
                    }
                } catch (err) {}
                */
                // alert(totalPage);
                document.getElementById("target_page-list").innerHTML = '';
                if (lastPage) {
                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">下页</a></li>')
                } else {
                    pageList.append('<li id = "target_nextpage"><a href="#">下页</a></li>');
                }
                pageList.append('<li><a id = target' + target_totalPage + ' onclick="target_trailerPage(' + target_totalPage + ')" href="#"style="background: wight;" >  ' + target_totalPage + '</a></li>');
                if (target_totalPage > 1) {
                    if (target_totalPage - currentPage >= 2) {
                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
                    }
                    if (currentPage > 1 && currentPage != target_totalPage) {
                        pageList.append('<li ><a id = "target' + currentPage + '"  chref="#"style="background: wight;" >  ' + currentPage + '</a></li>');
                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
                    } else {
                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
                    }
                    pageList.append('<li ><a id = target' + 1 + ' chref="#"style="background: wight;" >  ' + 1 + '</a></li>');
                }
                document.getElementById("target" + currentPage + "").style.background = "#426384";
                if (firstPage) {
                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">上页</a></li>')
                } else {
                    pageList.append('<li id = "target_lastpage"><a chref="#">上页</a></li>');
                }
                pageList.append('<input style="width:50px;height:30px;margin-top:5px;margin-right:20px;" id="target_page_num"></input>');
                pageList.append('<li onclick = "target_turing_page()"><a href="#">翻页</a></li>');
            });
        }
        $(document).ready(function() {
        	DestroyTable1();
            myFunction();
            var target_knowledge = $("#target_knowledge");
            var target_qb = $("#target_qb");
            $.get("" + ServerIp + "/QuestionBackManage/RequestQuestionBack/", {}, function(data) {
                var data = JSON.parse(data);
                for (var i = 0; i < data.body[0].length; i++) {
                    target_knowledge.append("<option value = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                }
                for (var i = 0; i < data.body[1].length; i++) {
                    target_qb.append("<option value = '" + data.body[1][i].qb_id + "'>" + data.body[1][i].qb_name + "</option>");
                }
            });
            $(".select2_single").select2({
                allowClear: true
            });
            $(".select2_group").select2({});
        });

		//题目列表table刷新
		function myfunction1()
		{
			//定义按钮模板
		    var tp4 = $("#tp4").html();
		    var tp5 = $("#tp5").html();
			//预编译模板
	        var template = Handlebars.compile(tp4);
	        var template = Handlebars.compile(tp5);
	        $('#question').hide();
            var qb_id = $("#target_qb");
            var knowledge = $("#target_knowledge");
            var qt_type = $("#target_qt_type");
            var pageList = $('#target_page-list');
            var qt_diffculty_up = $("#target_qt_diffculty_up");
            var qt_diffculty_down = $("#target_qt_diffculty_down");
			$.ajax({
				url: "" + ServerIp + "/QuestionBackManage/SelectQuestion/",
				type: 'POST', //请求的类型
				async: false,
				dataType: "text", //数据类型
				data: { "qb_id": target_qb_id,
		                "knowledge_kl_id": knowledge.val(),
		                "qt_type": qt_type.val(),
		                "qt_diffculty_up": qt_diffculty_up.val(),
		                "qt_diffculty_down": qt_diffculty_down.val(),
		                "currentPage": target_currentPage
				},
				success: function(data) //操作后台的返回值
				{	
					data = JSON.parse(data);
					data = data.body;
					var tablebody = $('#target_tablebody');
	                document.getElementById("target_tablebody").innerHTML = '';
	                target_totalPage = data.totalPage;
	                pageSize = data.pageSize;
	                var firstPage = data.firstPage;
	                var lastPage = data.lastPage;
	                var currentPage = data.currentPage;
	                document.getElementById("target_page-list").innerHTML = '';
	                if (lastPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">下页</a></li>')
	                } else {
	                    pageList.append('<li id = "target_nextpage"><a >下页</a></li>');
	                }
	                pageList.append('<li><a id = "target' + target_totalPage + '"  onclick="target_trailerPage(' + target_totalPage + ')" href="#"style="background: wight;" >  ' + target_totalPage + '</a></li>');
	                if (target_totalPage > 1) {
	                    if (target_totalPage - currentPage >= 2) {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    if (currentPage > 1 && currentPage != target_totalPage) {
	                        pageList.append('<li ><a id = "target' + currentPage + '"  chref="#"style="background: wight;" >  ' + currentPage + '</a></li>');
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    } else {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    pageList.append('<li ><a id = "target' + 1 + '" chref="#"style="background: wight;" >  ' + 1 + '</a></li>');
	                }
	                document.getElementById("target" + currentPage + "").style.background = "#426384";
	                if (firstPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">上页</a></li>')
	                } else {
	                    pageList.append('<li id = "target_lastpage"><a >上页</a></li>');
	                }
	                pageList.append('<input style="width:50px;height:30px;margin-top:5px;margin-right:20px;" id="target_page_num"></input>');
	                pageList.append('<li onclick = "target_turing_page()" ><a href="#">翻页</a></li>');
	                // document.getElementById("target_SelectQuestion").focus();
	                document.getElementById("timu").focus();
					table = $('#question_table').DataTable({
						dom: 'Bfrtip',
						data: data.data,
						"paging": false, //禁止分页
						retrieve: true, //实例化检索
						"columns": [
							{
								data: 'qt_stem'
						    },
						    {
								data: 'qt_type'
						    },
						    {
								data: 'qt_diffculty'
						    },
						    {
								data: 'kl_name'
						    },
						    {
								data: 'qt_pre_rate'
						    },
							{
								data: null//占位空列
							} 

						],
						"columnDefs": [{
								"searchable": false,
								"orderable": false,
								"targets": [0. - 1]					// 表格填充的范围,[0,-1]为所有
							},
							{
								"targets": 5,
								"render": function(a, b, c, d) {
										 var context4 =
				                        {
				                            func: [
				                                {"name": "查看", "fn": "showTimuxiangqing(\'" + c.qt_id + "\')", "type": "success"},
				                                
				                            ]
				                        };
				                        var html4 = template(context4);
				                        
				                        var context5 =
				                        {
				                            func: [
				                                {"name": "删除", "fn": "delete_question(\'" + c.qt_id + "\')", "type": "danger"},		//添加按键     name为按键属性
				                                
				                            ]
				                        };
				                        var html5 = template(context5);
				                        return html4+html5;
								}
							},
						]
					});
					
				}			
			});
		}

        $('#target_page-list').on("click", "#target_nextpage", function() {
            document.getElementById("timu").focus();
            target_currentPage += 1;
            DestroyTable2();
            myfunction1(target_qb_id);
        });
        $('#target_page-list').on("click", "#target_lastpage", function() {
            // document.getElementById("target_lastpage").focus();
            document.getElementById("timu").focus();
            target_currentPage -= 1;
            DestroyTable2();
            myfunction1(target_qb_id);
        });
        $('#target_page-list').on("click", "#target1", function() {
            // document.getElementById("target1").focus();
            document.getElementById("timu").focus();
            target_currentPage = 1;
            DestroyTable2();
            myfunction1(target_qb_id);
        });

        function target_turing_page() {
            document.getElementById("timu").focus();
            if ($("#target_page_num").val() > target_totalPage || $("#target_page_num").val() == '' || !Number.isInteger(Number($("#target_page_num").val()))) {
                alert("页码有误");
                return;
            }
            target_currentPage = Number($("#target_page_num").val());
            DestroyTable2();
            myfunction1(target_qb_id);

        }

        function target_trailerPage(totalPage) {
            // document.getElementById("target_trailerPage").focus();
            document.getElementById("target_SelectQuestion").focus();
            target_currentPage = totalPage;
            DestroyTable2();
            myfunction1(target_qb_id);
        }

		$('#target_SelectQuestion').click(function() {
			$('#question').hide(); 
            //定义按钮模板
		    var tp4 = $("#tp4").html();
		    var tp5 = $("#tp5").html();
			//预编译模板
	        var template = Handlebars.compile(tp4);
	        var template = Handlebars.compile(tp5);
	        target_currentPage = 1;
            var qb_id = $("#target_qb");
            var knowledge = $("#target_knowledge");
            var qt_type = $("#target_qt_type");
            var pageList = $('#target_page-list');
            var qt_diffculty_up = $("#target_qt_diffculty_up");
            var qt_diffculty_down = $("#target_qt_diffculty_down");  
            DestroyTable2();
			$.ajax({
				url: "" + ServerIp + "/QuestionBackManage/SelectQuestion/",
				type: 'POST', //请求的类型
				async: false,
				dataType: "text", //数据类型
				data: { "qb_id": target_qb_id,
		                "knowledge_kl_id": knowledge.val(),
		                "qt_type": qt_type.val(),
		                "qt_diffculty_up": qt_diffculty_up.val(),
		                "qt_diffculty_down": qt_diffculty_down.val(),
		                "currentPage": target_currentPage
				},
				success: function(data) //操作后台的返回值
				{	
					data = JSON.parse(data);
					data = data.body;
					var tablebody = $('#target_tablebody');
	                document.getElementById("target_SelectQuestion").focus();
	                document.getElementById("target_tablebody").innerHTML = '';
	                var totalPage = data.totalPage;
	                pageSize = data.pageSize;
	                var firstPage = data.firstPage;
	                var lastPage = data.lastPage;
	                var currentPage = data.currentPage;
	                document.getElementById("target_page-list").innerHTML = '';
	                if (lastPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">下页</a></li>')
	                } else {
	                    pageList.append('<li id = "target_nextpage"><a href="#">下页</a></li>');
	                }
	                pageList.append('<li><a id = "target' + totalPage + '" onclick="target_trailerPage(' + totalPage + ')" href="#"style="background: wight;" >  ' + totalPage + '</a></li>');
	                if (totalPage > 1) {
	                    if (totalPage - currentPage >= 2) {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    if (currentPage > 1 && currentPage != totalPage) {
	                        pageList.append('<li ><a id = "target' + currentPage + '" chref="#"style="background: wight;" >  ' + currentPage + '</a></li>');
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    } else {
	                        pageList.append('<li><a style="color: #777;cursor: not-allowed;">....</a></li>');
	                    }
	                    pageList.append('<li ><a id = "target1" chref="#"style="background: wight;" >  ' + 1 + '</a></li>');
	                }
	                document.getElementById("target" + currentPage + "").style.background = "#426384";
	                if (firstPage) {
	                    pageList.append('<li><a style="color: #777;cursor: not-allowed;">上页</a></li>')
	                } else {
	                    pageList.append('<li id = "target_lastpage"><a chref="#">上页</a></li>');
	                }
					table = $('#question_table').DataTable({
						dom: 'Bfrtip',
						data: data.data,
						"paging": false, //禁止分页
						retrieve: true, //实例化检索
						"columns": [
							{
								data: 'qt_stem'
						    },
						    {
								data: 'qt_type'
						    },
						    {
								data: 'qt_diffculty'
						    },
						    {
								data: 'kl_name'
						    },
						    {
								data: 'qt_pre_rate'
						    },
							{
								data: null//占位空列
							} 

						],
						"columnDefs": [{
								"searchable": false,
								"orderable": false,
								"targets": [0. - 1]					// 表格填充的范围,[0,-1]为所有
							},
							{
								"targets": 5,
								"render": function(a, b, c, d) {
										 var context4 =
				                        {
				                            func: [
				                                {"name": "查看", "fn": "showTimuxiangqing(\'" + c.qt_id + "\')", "type": "success"},
				                                
				                            ]
				                        };
				                        var html4 = template(context4);
				                        
				                        var context5 =
				                        {
				                            func: [
				                                {"name": "删除", "fn": "delete_question(\'" + c.qt_id + "\')", "type": "danger"},		//添加按键     name为按键属性
				                                
				                            ]
				                        };
				                        var html5 = template(context5);
				                        return html4+html5;
								}
							},
						]
					});
					
				}
			});

        });

	    

        
        function delete_question(qt_id) {
            var password = prompt('请输入管理员密码', '');
            if (password == '' || typeof(password) == 'undefined' || password == null) {
                alert('您输入的管理员密码有误');
            } else {
                $.post("" + ServerIp + "/QuestionBackManage/DeleteQuestion/", {
                    "qb_id": target_qb_id,
                    "qt_id": qt_id,
                    "deletepassword": password
                }, function(data) {
                    var data = JSON.parse(data);
                    if (data.status == 1)
                        alert('删除成功');
                    else
                        alert(data.message);
                    DestroyTable2();
                    myfunction1(target_qb_id);
                });
            }
        }
        $('#print').click(function() {
            target_currentPage = 1;
            var qb_id = $("#target_qb");
            var knowledge = $("#target_knowledge");
            var qt_type = $("#target_qt_type");
            var pageList = $('#target_page-list');
            var qt_diffculty_up = $("#target_qt_diffculty_up");
            var qt_diffculty_down = $("#target_qt_diffculty_down");
            $.post("" + ServerIp + "/QuestionBackManage/QuestionPrint/", {
                "qb_id": target_qb_id,
                "knowledge_kl_id": knowledge.val(),
                "qt_type": qt_type.val(),
                "qt_diffculty_up": qt_diffculty_up.val(),
                "qt_diffculty_down": qt_diffculty_down.val(),
                "currentPage": target_currentPage
            }, function(data) {
                var data = JSON.parse(data);
                //alert(data.message);
                url = "" + ServerIp +data.message+"";
                try {
                    var a = document.getElementById("downPdf");
                    a.href = url;
                    a.click();
                } catch (e) {}

            });
        });

        var coding_num = 1;

        function showTimuxiangqing(qt_id) {
            update_qt_id = qt_id;
            var choice_knowledge = $("#choice_knowledge");
            var judge_knowledge = $("#judge_knowledge");
            var filla_knowledge = $("#filla_knowledge");
            var fillb_knowledge = $("#fillb_knowledge");
            var coding_knowledge = $("#coding_knowledge");
            $.get("" + ServerIp + "/QuestionBackManage/RequestQuestionBack/", {}, function(data) {
                var data = JSON.parse(data);
                document.getElementById("choice_knowledge").innerHTML = '';
                document.getElementById("judge_knowledge").innerHTML = '';
                document.getElementById("filla_knowledge").innerHTML = '';
                document.getElementById("fillb_knowledge").innerHTML = '';
                document.getElementById("coding_knowledge").innerHTML = '';
                for (var i = 0; i < data.body[0].length; i++) {
                    choice_knowledge.append("<option id = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                    judge_knowledge.append("<option id = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                    filla_knowledge.append("<option id = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                    fillb_knowledge.append("<option id = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                    coding_knowledge.append("<option id = '" + data.body[0][i].kl_id + "'>" + data.body[0][i].kl_name + "</option>");
                }
            });

            // $('#question').focus();
            $.post("" + ServerIp + "/QuestionBackManage/CheckQuestion/", {
                "qt_id": qt_id
            }, function(data) {
                var data = JSON.parse(data);
                // alert(data.body[0][0].qt_type);
                if (data.body[0][0].qt_type == "choice") {
                    document.getElementById("choice_stem").value = data.body[0][0].qt_stem;
                    document.getElementById("choice_diffculty").value = data.body[0][0].qt_diffculty;
                    document.getElementById("choice_a").value = data.body[2][0].cc_a;
                    document.getElementById("choice_b").value = data.body[2][0].cc_b;
                    document.getElementById("choice_c").value = data.body[2][0].cc_c;
                    document.getElementById("choice_d").value = data.body[2][0].cc_d;
                    document.getElementById("choice_knowledge").value = data.body[1][0].kl_name;
                    document.getElementById("choice_answer").value = data.body[2][0].cc_answer;
                    $('#question').show();
                    $('#choice_question').show();
                    $('#judge_question').hide();
                    $('#filla_question').hide();
                    $('#fillb_question').hide();
                    $('#coding_question').hide();
                    document.getElementById("choice_stem").focus();
                };

                if (data.body[0][0].qt_type == "judge") {
                    document.getElementById("judge_stem").value = data.body[0][0].qt_stem;
                    document.getElementById("judge_diffculty").value = data.body[0][0].qt_diffculty;
                    document.getElementById("judge_knowledge").value = data.body[1][0].kl_name;
                    if (data.body[2][0].jd_answer)
                        document.getElementById("judge_a").value = true;
                    else
                        document.getElementById("judge_b").value = true;
                    $('#question').show();
                    $('#choice_question').hide();
                    $('#judge_question').show();
                    $('#filla_question').hide();
                    $('#fillb_question').hide();
                    $('#coding_question').hide();
                    document.getElementById("judge_stem").focus();
                };
                if (data.body[0][0].qt_type == "filla") {
                    document.getElementById("filla_stem").value = data.body[0][0].qt_stem;
                    document.getElementById("filla_diffculty").value = data.body[0][0].qt_diffculty;
                    document.getElementById("filla_knowledge").value = data.body[1][0].kl_name;
                    document.getElementById("filla_answer").value = data.body[2][0].fa_answer;
                    $('#question').show();
                    $('#choice_question').hide();
                    $('#judge_question').hide();
                    $('#filla_question').show();
                    $('#fillb_question').hide();
                    $('#coding_question').hide();
                    document.getElementById("filla_stem").focus();
                };
                if (data.body[0][0].qt_type == "fillb") {
                    document.getElementById("fillb_stem").value = data.body[0][0].qt_stem;
                    document.getElementById("fillb_diffculty").value = data.body[0][0].qt_diffculty;
                    document.getElementById("fillb_knowledge").value = data.body[1][0].kl_name;
                    document.getElementById("fb_pre_coding").value = data.body[2][0].fb_pre_coding;

                    var fb_test_answer_in = new Array(); //定义一数组 
                    var fb_test_answer_out = new Array();
                    fb_test_answer_in = data.body[2][0].fb_test_answer_in.split("&&&"); //字符分割 
                    fb_test_answer_out = data.body[2][0].fb_test_answer_out.split("&&&");
                    for (var i = 1; i < 100; i++) {
                        try {
                            $("#fb_in" + i + "").remove();
                            $("#fb_out" + i + "").remove();
                        } catch (e) {
                            break;
                        }
                    }

                    for (i = 1; i < fb_test_answer_in.length - 1; i++) {
                        // alert(fb_test_answer_in[i]);
                        $('#fillb-answer').append(`<div class="form-group" id="fb_in` + i + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输入" id ="fb_test_answer_in` + i + `"></textarea></div></div><div class="form-group" id="fb_out` + i + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输出" id ="fb_test_answer_out` + i + `"></textarea></div></div>`);
                        document.getElementById("fb_test_answer_in" + i + "").value = fb_test_answer_in[i];
                        document.getElementById("fb_test_answer_out" + i + "").value = fb_test_answer_out[i];
                        // document.getElementById("fb_test_answer_in").value = data.body[2][0].fb_test_answer_in;
                        // document.getElementById("fb_test_answer_out").value = data.body[2][0].fb_test_answer_out;
                    }
                    coding_num = fb_test_answer_in.length - 1;
                    $('#question').show();
                    $('#choice_question').hide();
                    $('#judge_question').hide();
                    $('#filla_question').hide();
                    $('#fillb_question').show();
                    $('#coding_question').hide();
                    document.getElementById("fillb_stem").focus();
                };
                if (data.body[0][0].qt_type == "coding") {
                    document.getElementById("coding_stem").value = data.body[0][0].qt_stem;
                    document.getElementById("coding_diffculty").value = data.body[0][0].qt_diffculty;
                    document.getElementById("coding_knowledge").value = data.body[1][0].kl_name;
                    document.getElementById("co_pre_coding").value = data.body[2][0].co_test_coding;

                    var co_test_answer_in = new Array(); //定义一数组 
                    var co_test_answer_out = new Array();
                    co_test_answer_in = data.body[2][0].co_test_answer_in.split("&&&"); //字符分割 
                    co_test_answer_out = data.body[2][0].co_test_answer_out.split("&&&");
                    for (var i = 1; i < 100; i++) {
                        try {
                            $("#coding_in" + i + "").remove();
                            $("#coding_out" + i + "").remove();
                        } catch (e) {
                            break;
                        }
                    }
                    for (i = 1; i < co_test_answer_in.length - 1; i++) {
                        // alert(co_test_answer_in[i]);
                        $('#coding-answer').append(`<div class="form-group" id="coding_in` + i + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输入" id ="co_test_answer_in` + i + `"></textarea></div></div><div class="form-group" id="coding_out` + i + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输出" id ="co_test_answer_out` + i + `"></textarea></div></div>`);
                        document.getElementById("co_test_answer_in" + i + "").value = co_test_answer_in[i];
                        document.getElementById("co_test_answer_out" + i + "").value = co_test_answer_out[i];

                        // document.getElementById("co_test_answer_in"+i+"").value = data.body[2][0].co_test_answer_in;
                        // document.getElementById("co_test_answer_out"+i+"").value = data.body[2][0].co_test_answer_out;
                    }
                    coding_num = co_test_answer_in.length - 1;
                    $('#question').show(); 
                    $('#choice_question').hide();
                    $('#judge_question').hide();
                    $('#filla_question').hide();
                    $('#fillb_question').hide();
                    $('#coding_question').show();
                    document.getElementById("coding_stem").focus();
                };

            });

        }
        $('#add-coding-answer').click(function() {
            $('#coding-answer').append(`<div class="form-group" id="coding_in` + coding_num + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输入" id ="co_test_answer_in` + coding_num + `"></textarea></div></div><div class="form-group" id="coding_out` + coding_num + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输出" id ="co_test_answer_out` + coding_num + `"></textarea></div></div>`);
            coding_num += 1;
        });
        $('#delete-coding-answer').click(function() {
            if (coding_num == 2) {
                alert("不能没有输入输出");
                return;
            }
            coding_num -= 1;
            $("#coding_in" + coding_num + "").remove();
            $("#coding_out" + coding_num + "").remove();

        });

        $('#add-fillb-answer').click(function() {
            $('#fillb-answer').append(`<div class="form-group" id="fb_in` + coding_num + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输入</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输入" id ="fb_test_answer_in` + coding_num + `"></textarea></div></div><div class="form-group" id="fb_out` + coding_num + `"><label class="control-label col-md-1 col-sm-3 col-xs-12">测试输出</label><div class="col-md-9 col-sm-9 col-xs-12"><textarea rows="2" class="form-control" placeholder="测试输出" id ="fb_test_answer_out` + coding_num + `"></textarea></div></div>`);
            coding_num += 1;
        });
        $('#delete-fillb-answer').click(function() {
            if (coding_num == 2) {
                alert("不能没有输入输出");
                return;
            }
            coding_num -= 1;
            $("#fb_in" + coding_num + "").remove();
            $("#fb_out" + coding_num + "").remove();

        });
        $("#save_choice").click(function() {
            $.post("" + ServerIp + "/QuestionBackManage/UpdataQuestion/", {
                "qt_id": update_qt_id,
                "qt_stem": document.getElementById("choice_stem").value,
                "qt_diffculty": document.getElementById("choice_diffculty").value,
                "cc_a": document.getElementById("choice_a").value,
                "cc_b": document.getElementById("choice_b").value,
                "cc_c": document.getElementById("choice_c").value,
                "cc_d": document.getElementById("choice_d").value,
                "kl_name": document.getElementById("choice_knowledge").value,
                "cc_answer": document.getElementById("choice_answer").value,
                "qt_type": 'choice',
                "eq_lang":document.getElementById("lang_qb").value,
            }, function(data) {
                var data = JSON.parse(data);
                $('#question').hide();
                $('#choice_question').hide();
                DestroyTable2();
                myfunction1($("#target_qb").val());
            });

        });
        $("#save_judge").click(function() {
            var answer;
            if ($("#judge_a").val())
                answer = 'T';
            else
                answer = 'F';
            $.post("" + ServerIp + "/QuestionBackManage/UpdataQuestion/", {
                "qt_id": update_qt_id,
                "qt_stem": document.getElementById("judge_stem").value,
                "qt_diffculty": document.getElementById("judge_diffculty").value,
                "kl_name": document.getElementById("judge_knowledge").value,
                "jd_answer": answer,
                "qt_type": 'judge',
                "eq_lang":document.getElementById("lang_qb").value,
            }, function(data) {
                var data = JSON.parse(data);
                alert("save ok");
                $('#question').hide();
                $('#judge_question').hide();
                DestroyTable2();
                myfunction1($("#target_qb").val());
            });
        });
        $("#save_filla").click(function() {
            $.post("" + ServerIp + "/QuestionBackManage/UpdataQuestion/", {
                "qt_id": update_qt_id,
                "qt_stem": document.getElementById("filla_stem").value,
                "qt_diffculty": document.getElementById("filla_diffculty").value,
                "kl_name": document.getElementById("filla_knowledge").value,
                "fa_answer": document.getElementById("filla_answer").value,
                "qt_type": 'filla',
                "eq_lang":document.getElementById("lang_qb").value,
            }, function(data) {
                var data = JSON.parse(data);
                $('#question').hide();
                $('#filla_question').hide();
                DestroyTable2();
                myfunction1($("#target_qb").val());
            });
        });
        $("#save_fillb").click(function() {
            var fb_test_answer_in = "&&&";
            var fb_test_answer_out = "&&&";
            for (var i = 1; i < coding_num; i++) {
                // alert($("#fb_test_answer_in"+i+"").val());
                fb_test_answer_in = fb_test_answer_in + $("#fb_test_answer_in" + i + "").val() + "&&&";
                fb_test_answer_out = fb_test_answer_out + $("#fb_test_answer_out" + i + "").val() + "&&&";
            }
            $.post("" + ServerIp + "/QuestionBackManage/UpdataQuestion/", {
                "qt_id": update_qt_id,
                "qt_stem": document.getElementById("fillb_stem").value,
                "qt_diffculty": document.getElementById("fillb_diffculty").value,
                "kl_name": document.getElementById("fillb_knowledge").value,
                "fb_pre_coding": document.getElementById("fb_pre_coding").value,
                "fb_test_answer_in": fb_test_answer_in,
                "fb_test_answer_out": fb_test_answer_out,
                // "fb_test_answer_in": document.getElementById("fb_test_answer_in").value,
                // "fb_test_answer_out": document.getElementById("fb_test_answer_out").value,
                "qt_type": 'fillb',
                "eq_lang":document.getElementById("lang_qb").value,
            }, function(data) {
                var data = JSON.parse(data);
                if(data.status !=1){
                   alert("题目输入输出与代码不符，请核对");
                   return;
                }
                $('#question').hide();
                $('#fillb_question').hide();
                DestroyTable2();
                myfunction1($("#target_qb").val()); 
            });
        });

        $("#save_coding").click(function() {
            var co_test_answer_in = "&&&";
            var co_test_answer_out = "&&&";
            //alert(document.getElementById("lang_qb").value);
            for (var i = 1; i < coding_num; i++) {
                co_test_answer_in = co_test_answer_in + $("#co_test_answer_in" + i + "").val() + "&&&";
                co_test_answer_out = co_test_answer_out + $("#co_test_answer_out" + i + "").val() + "&&&";
            }
            var cin = JSON.stringify(co_test_answer_in, null, 0);
            var cout = JSON.stringify(co_test_answer_out, null, 0);
            $.post("" + ServerIp + "/QuestionBackManage/UpdataQuestion/", {
                "qt_id": update_qt_id,
                "qt_stem": document.getElementById("coding_stem").value,
                "qt_diffculty": document.getElementById("coding_diffculty").value,
                "kl_name": document.getElementById("coding_knowledge").value,
                "co_test_coding": document.getElementById("co_pre_coding").value,
                // "co_test_answer_in": document.getElementById("co_test_answer_in").value,
                // "co_test_answer_out": document.getElementById("co_test_answer_out").value,
                "co_test_answer_in": co_test_answer_in,
                "co_test_answer_out": co_test_answer_out,
                "qt_type": 'coding',
                "eq_lang":document.getElementById("lang_qb").value,
            }, function(data) {
                var data = JSON.parse(data);
                if(data.status !=1){
                   alert("题目输入输出与代码不符，请核对");
                   return;
                }
                $('#question').hide();
                $('#coding_question').hide();
                // for (var i = 1; i < coding_num; i++) {
                //     alert(coding_num);
                //     // $("#coding" + i).remove();
                //     $("#coding_in" + i + "").remove();
                //     $("#coding_out" + i + "").remove();
                // }
                DestroyTable2();
                myfunction1($("#target_qb").val());
            });
        });
        </script>
</body>

</html>